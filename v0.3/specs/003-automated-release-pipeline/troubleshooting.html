<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Troubleshooting Guide: Automated Binary Release Pipeline | wt </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Troubleshooting Guide: Automated Binary Release Pipeline | wt ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/kuju63/wt/blob/main/specs/003-automated-release-pipeline/troubleshooting.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="wt">
            wt
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="troubleshooting-guide-automated-binary-release-pipeline">Troubleshooting Guide: Automated Binary Release Pipeline</h1>

<p><strong>Feature</strong>: <code>003-automated-release-pipeline</code><br>
<strong>Date</strong>: 2026-01-05<br>
<strong>Related</strong>: <a href="spec.html">spec.md</a>, <a href="quickstart.html">quickstart.md</a>, <a href="testing-guide.html">testing-guide.md</a></p>
<p>ã“ã®ã‚¬ã‚¤ãƒ‰ã¯ã€è‡ªå‹•åŒ–ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒªãƒªãƒ¼ã‚¹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ç™ºç”Ÿã™ã‚‹ä¸€èˆ¬çš„ãªå•é¡Œã®è§£æ±ºæ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚</p>
<hr>
<h2 id="-ç›®æ¬¡">ğŸ“‹ ç›®æ¬¡</h2>
<ol>
<li><a href="#%E3%83%93%E3%83%AB%E3%83%89%E5%A4%B1%E6%95%97">ãƒ“ãƒ«ãƒ‰å¤±æ•—</a></li>
<li><a href="#%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E5%A4%B1%E6%95%97">ãƒªãƒªãƒ¼ã‚¹å¤±æ•—</a></li>
<li><a href="#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E8%A8%88%E7%AE%97%E3%81%AE%E5%95%8F%E9%A1%8C">ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨ˆç®—ã®å•é¡Œ</a></li>
<li><a href="#%E3%83%86%E3%82%B9%E3%83%88%E5%A4%B1%E6%95%97">ãƒ†ã‚¹ãƒˆå¤±æ•—</a></li>
<li><a href="#%E3%82%AB%E3%83%90%E3%83%AC%E3%83%83%E3%82%B8%E5%A0%B1%E5%91%8A%E3%81%AE%E5%95%8F%E9%A1%8C">ã‚«ãƒãƒ¬ãƒƒã‚¸å ±å‘Šã®å•é¡Œ</a></li>
<li><a href="#sbom%E7%94%9F%E6%88%90%E3%81%AE%E5%95%8F%E9%A1%8C">SBOMç”Ÿæˆã®å•é¡Œ</a></li>
<li><a href="#%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB%E7%BD%B2%E5%90%8D%E3%81%AE%E5%95%8F%E9%A1%8C">ãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã®å•é¡Œ</a></li>
<li><a href="#%E6%80%A7%E8%83%BD%E5%95%8F%E9%A1%8C%E3%81%A8%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88">æ€§èƒ½å•é¡Œã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</a></li>
<li><a href="#github-actions-%E3%81%AE%E5%95%8F%E9%A1%8C">GitHub Actions ã®å•é¡Œ</a></li>
</ol>
<hr>
<h2 id="ãƒ“ãƒ«ãƒ‰å¤±æ•—">ãƒ“ãƒ«ãƒ‰å¤±æ•—</h2>
<h3 id="å•é¡Œ-ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: Build failed for linux-arm
##[error]The process '/usr/bin/bash' failed with exit code 1
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>å¿…é ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  (Windows x64, Linux x64, macOS ARM64) ã®ãƒ“ãƒ«ãƒ‰å¤±æ•— â†’ ãƒªãƒªãƒ¼ã‚¹å…¨ä½“ãŒå¤±æ•—</li>
<li>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  (Linux ARM) ã®ãƒ“ãƒ«ãƒ‰å¤±æ•— â†’ è­¦å‘Šã®ã¿ã€ãƒªãƒªãƒ¼ã‚¹ç¶šè¡Œ</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh run view &lt;run-id&gt; --log | grep -A 50 &quot;Build.*failed&quot;
</code></pre>
</li>
<li><p><strong>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ã‚’å†ç¾</strong>:</p>
<pre><code class="lang-bash"># å•é¡Œã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãƒ“ãƒ«ãƒ‰ã‚’è©¦è¡Œ
.github/scripts/build-linux-arm.sh &quot;v0.1.0-test&quot; &quot;linux-arm&quot;
</code></pre>
</li>
<li><p><strong>ä¸€èˆ¬çš„ãªåŸå› ã¨å¯¾å‡¦</strong>:</p>
<table>
<thead>
<tr>
<th>åŸå› </th>
<th>å¯¾å‡¦æ–¹æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>.NET SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´</td>
<td><code>.github/workflows/build.yml</code>ã®<code>dotnet-version</code>ã‚’ç¢ºèª</td>
</tr>
<tr>
<td>ä¾å­˜é–¢ä¿‚ã®è§£æ±ºå¤±æ•—</td>
<td><code>dotnet restore</code>ã‚’å®Ÿè¡Œã—ã¦ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèª</td>
</tr>
<tr>
<td>RID (Runtime Identifier) èª¤ã‚Š</td>
<td><code>wt.cli.csproj</code>ã®<code>&lt;RuntimeIdentifier&gt;</code>ã‚’ç¢ºèª</td>
</tr>
<tr>
<td>ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³</td>
<td>GitHub Actions runnerã®ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ã‚’ç¢ºèª</td>
</tr>
</tbody>
</table>
</li>
<li><p><strong>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å¤±æ•—ã‚’ç„¡è¦–</strong>:</p>
<p>Linux ARMã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã®ã§ã€å¤±æ•—ã—ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“:</p>
<pre><code class="lang-yaml"># .github/workflows/build.yml
matrix:
  include:
    - platform: linux
      arch: arm
      mandatory: false  # å¤±æ•—è¨±å®¹
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ã™ã¹ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: ã™ã¹ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: dotnet restore failed
NuGet package restore failed
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>NuGetãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚è§£æ±ºå¤±æ•—</li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œ</li>
<li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚½ãƒ¼ã‚¹ã®è¨­å®šèª¤ã‚Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>NuGetè¨­å®šã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">cat NuGet.Config  # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚½ãƒ¼ã‚¹ãŒæ­£ã—ã„ã‹ç¢ºèª
</code></pre>
</li>
<li><p><strong>ä¾å­˜é–¢ä¿‚ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">dotnet restore wt.sln --verbosity detailed
</code></pre>
</li>
<li><p><strong>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢</strong>:</p>
<pre><code class="lang-bash">dotnet nuget locals all --clear
dotnet restore wt.sln
</code></pre>
</li>
<li><p><strong>GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å†å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash">gh run rerun &lt;run-id&gt;
</code></pre>
</li>
</ol>
<hr>
<h2 id="ãƒªãƒªãƒ¼ã‚¹å¤±æ•—">ãƒªãƒªãƒ¼ã‚¹å¤±æ•—</h2>
<h3 id="å•é¡Œ-github-releaseã®ä½œæˆãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: GitHub Releaseã®ä½œæˆãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: Failed to create release
HttpError: Resource not accessible by integration
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>GitHub tokenæ¨©é™ä¸è¶³</li>
<li>ãƒªãƒªãƒ¼ã‚¹åã®é‡è¤‡</li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>GitHub tokenæ¨©é™ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/release.yml
permissions:
  contents: write  # ãƒªãƒªãƒ¼ã‚¹ä½œæˆã«å¿…è¦
  packages: write
</code></pre>
</li>
<li><p><strong>æ—¢å­˜ãƒªãƒªãƒ¼ã‚¹ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh release list | grep &quot;v1.0.0&quot;  # åŒã˜ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
</code></pre>
</li>
<li><p><strong>æ—¢å­˜ãƒªãƒªãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆã¯å‰Šé™¤</strong>:</p>
<pre><code class="lang-bash">gh release delete v1.0.0 --yes
git push origin :refs/tags/v1.0.0  # ã‚¿ã‚°ã‚‚å‰Šé™¤
</code></pre>
</li>
<li><p><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å†å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash">gh run rerun &lt;run-id&gt;
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ã‚¢ã‚»ãƒƒãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: ã‚¢ã‚»ãƒƒãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: Failed to upload release asset
Error: ENOENT: no such file or directory
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ“ãƒ«ãƒ‰ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆãŒå­˜åœ¨ã—ãªã„</li>
<li>ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®èª¤ã‚Š</li>
<li>ãƒ•ã‚¡ã‚¤ãƒ«åã®èª¤ã‚Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã®å­˜åœ¨ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># GitHub Actionsãƒ­ã‚°ã§ç¢ºèª
gh run view &lt;run-id&gt; --log | grep -A 10 &quot;Upload build artifact&quot;
</code></pre>
</li>
<li><p><strong>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">ls -lh release-assets/
# æœŸå¾…ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:
# - wt-v&lt;version&gt;-windows-x64.exe
# - wt-v&lt;version&gt;-linux-x64
# - wt-v&lt;version&gt;-macos-arm64
# - SHA256SUMS
# - wt-v&lt;version&gt;-sbom.json
</code></pre>
</li>
<li><p><strong>ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/release.yml
files: |
  release-assets/wt-*-windows-*.exe
  release-assets/wt-*-linux-*
  release-assets/wt-*-macos-*
  release-assets/wt-*-sbom.json
  release-assets/wt-*-sbom.json.asc
  release-assets/SHA256SUMS
  release-assets/SHA256SUMS.asc
</code></pre>
</li>
</ol>
<hr>
<h2 id="ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨ˆç®—ã®å•é¡Œ">ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨ˆç®—ã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œãªã„">å•é¡Œ: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œãªã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>mainã«ãƒãƒ¼ã‚¸ã—ã¦ã‚‚ãƒªãƒªãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œãªã„</li>
<li>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãŒå¤‰ã‚ã‚‰ãªã„</li>
</ul>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>Conventional Commitså½¢å¼ã«å¾“ã£ã¦ã„ãªã„ã‚³ãƒŸãƒƒãƒˆ</li>
<li><code>docs:</code>, <code>chore:</code>ãªã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ä¸è¦ãªã‚³ãƒŸãƒƒãƒˆã®ã¿</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">git log origin/main --oneline --since=&quot;1 day ago&quot;
</code></pre>
</li>
<li><p><strong>Conventional Commitså½¢å¼ã‚’ç¢ºèª</strong>:</p>
<p>æœ‰åŠ¹ãªã‚³ãƒŸãƒƒãƒˆã‚¿ã‚¤ãƒ—:</p>
<ul>
<li><code>feat:</code> â†’ MINORãƒãƒ¼ã‚¸ãƒ§ãƒ³å¢—åŠ </li>
<li><code>fix:</code> â†’ PATCHãƒãƒ¼ã‚¸ãƒ§ãƒ³å¢—åŠ </li>
<li><code>BREAKING CHANGE:</code> â†’ MAJORãƒãƒ¼ã‚¸ãƒ§ãƒ³å¢—åŠ </li>
</ul>
<p>ç„¡åŠ¹ãªã‚³ãƒŸãƒƒãƒˆ (ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ãªã—):</p>
<ul>
<li><code>docs:</code>, <code>style:</code>, <code>refactor:</code>, <code>test:</code>, <code>chore:</code></li>
</ul>
</li>
<li><p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ‰‹å‹•ã§å¼·åˆ¶ã™ã‚‹</strong> (ç·Šæ€¥æ™‚ã®ã¿):</p>
<pre><code class="lang-bash"># GitHub Actions workflow_dispatchã§æ‰‹å‹•å®Ÿè¡Œ
gh workflow run release.yml -f force-version=v1.2.3
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-é–“é•ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¨ˆç®—ã•ã‚Œã‚‹">å•é¡Œ: é–“é•ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¨ˆç®—ã•ã‚Œã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>æœŸå¾…: PATCHå¢—åŠ  (v1.0.0 â†’ v1.0.1)</li>
<li>å®Ÿéš›: MINORå¢—åŠ  (v1.0.0 â†’ v1.1.0)</li>
</ul>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«èª¤ã£ãŸã‚¿ã‚¤ãƒ—ãŒå«ã¾ã‚Œã¦ã„ã‚‹</li>
<li>ã‚¹ã‚¯ãƒ¯ãƒƒã‚·ãƒ¥ãƒãƒ¼ã‚¸æ™‚ã«ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒçµåˆã•ã‚Œã¦ã„ã‚‹</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒãƒ¼ã‚¸ã•ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">git log origin/main --oneline -1  # æœ€æ–°ã®ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆ
git show HEAD  # ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¨ä½“ã‚’ç¢ºèª
</code></pre>
</li>
<li><p><strong>ã‚¹ã‚¯ãƒ¯ãƒƒã‚·ãƒ¥ãƒãƒ¼ã‚¸ã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿®æ­£</strong>:</p>
<p>PRãƒãƒ¼ã‚¸æ™‚ã«ã€é©åˆ‡ãªConventional Commitsãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨:</p>
<pre><code class="lang-text">fix: resolve critical bug

- Fix issue #123
- Update error handling
</code></pre>
</li>
<li><p><strong>é–“é•ã£ãŸãƒªãƒªãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ã¦å†ä½œæˆ</strong>:</p>
<pre><code class="lang-bash"># é–“é•ã£ãŸãƒªãƒªãƒ¼ã‚¹ã¨ã‚¿ã‚°ã‚’å‰Šé™¤
gh release delete v1.1.0 --yes
git push origin :refs/tags/v1.1.0

# mainãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°ã‚³ãƒŸãƒƒãƒˆã‚’ä¿®æ­£ (å¿…è¦ã«å¿œã˜ã¦)
git revert HEAD --no-edit
git push origin main
</code></pre>
</li>
</ol>
<hr>
<h2 id="ãƒ†ã‚¹ãƒˆå¤±æ•—">ãƒ†ã‚¹ãƒˆå¤±æ•—</h2>
<h3 id="å•é¡Œ-ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦prãŒãƒãƒ¼ã‚¸ã§ããªã„">å•é¡Œ: ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦PRãŒãƒãƒ¼ã‚¸ã§ããªã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">âŒ Test and Coverage / Run Tests â€” Failed
Tests failed with exit code 1
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>å˜ä½“ãƒ†ã‚¹ãƒˆã®å¤±æ•—</li>
<li>ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒã‚°</li>
<li>ãƒ†ã‚¹ãƒˆç’°å¢ƒã®å•é¡Œ</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash">dotnet test wt.sln --verbosity detailed
</code></pre>
</li>
<li><p><strong>å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’ç‰¹å®š</strong>:</p>
<pre><code class="lang-bash">dotnet test wt.sln --logger &quot;trx;LogFileName=test-results.trx&quot;
cat TestResults/test-results.trx | grep -A 5 &quot;Outcome=\&quot;Failed\&quot;&quot;
</code></pre>
</li>
<li><p><strong>ãƒ†ã‚¹ãƒˆãƒ­ã‚°ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh run view &lt;run-id&gt; --log | grep -A 20 &quot;Test.*Failed&quot;
</code></pre>
</li>
<li><p><strong>ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã¦ãƒ—ãƒƒã‚·ãƒ¥</strong>:</p>
<pre><code class="lang-bash"># ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£
git add wt.tests/
git commit -m &quot;test: fix failing unit test&quot;
git push origin &lt;branch-name&gt;

# GitHub ActionsãŒè‡ªå‹•çš„ã«å†å®Ÿè¡Œã•ã‚Œã‚‹
gh pr checks --watch
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ãƒ†ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹">å•é¡Œ: ãƒ†ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: The operation was canceled.
##[error]The action 'Run Tests' has timed out after 10 minutes.
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ†ã‚¹ãƒˆãŒç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã£ã¦ã„ã‚‹</li>
<li>ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ™‚é–“ãŒé•·ã™ãã‚‹</li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¾…æ©ŸãŒç™ºç”Ÿã—ã¦ã„ã‚‹</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸãƒ†ã‚¹ãƒˆã‚’ç‰¹å®š</strong>:</p>
<pre><code class="lang-bash"># ãƒ­ãƒ¼ã‚«ãƒ«ã§å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
dotnet test wt.tests/LongRunningTest.cs --verbosity detailed
</code></pre>
</li>
<li><p><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·</strong> (ä¸€æ™‚çš„):</p>
<pre><code class="lang-yaml"># .github/workflows/test.yml
jobs:
  test:
    timeout-minutes: 20  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10åˆ†
</code></pre>
</li>
<li><p><strong>ãƒ†ã‚¹ãƒˆã‚’æœ€é©åŒ–</strong>:</p>
<ul>
<li>ä¸è¦ãª<code>Task.Delay()</code>ã‚’å‰Šé™¤</li>
<li>ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦å¤–éƒ¨ä¾å­˜ã‚’æ’é™¤</li>
<li>ãƒ†ã‚¹ãƒˆã‚’ã‚ˆã‚Šå°ã•ãªå˜ä½ã«åˆ†å‰²</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ã‚«ãƒãƒ¬ãƒƒã‚¸å ±å‘Šã®å•é¡Œ">ã‚«ãƒãƒ¬ãƒƒã‚¸å ±å‘Šã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-codacyã¸ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: Codacyã¸ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Warning: Failed to upload coverage to Codacy
Error: Project token is invalid
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>Codacyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã®è¨­å®šèª¤ã‚Š</li>
<li>Codacy APIã®ä¸€æ™‚çš„ãªéšœå®³</li>
<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼èª¤ã‚Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>Codacyãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># GitHub Secretsè¨­å®šã‚’ç¢ºèª
gh secret list | grep CODACY
</code></pre>
</li>
<li><p><strong>ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å†è¨­å®š</strong>:</p>
<pre><code class="lang-bash"># Codacyãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—
# Settings â†’ Coverage â†’ Project API Token

# GitHub Secretsã«è¨­å®š
gh secret set CODACY_PROJECT_TOKEN
</code></pre>
</li>
<li><p><strong>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># ãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç”Ÿæˆ
dotnet test wt.sln --collect:&quot;XPlat Code Coverage&quot; --results-directory ./coverage

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
find ./coverage -name &quot;coverage.cobertura.xml&quot;
cat ./coverage/**/coverage.cobertura.xml | head -20
</code></pre>
</li>
<li><p><strong>Codacy APIã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª</strong>:</p>
<ul>
<li><a href="https://status.codacy.com/">Codacy Status Page</a> ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª</li>
<li>ä¸€æ™‚çš„ãªéšœå®³ã®å ´åˆã¯ã€<code>continue-on-error: true</code>ã«ã‚ˆã‚Šå½±éŸ¿ãªã—</li>
</ul>
</li>
<li><p><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å†å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash">gh run rerun &lt;run-id&gt;
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ0ã¨å ±å‘Šã•ã‚Œã‚‹">å•é¡Œ: ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ0%ã¨å ±å‘Šã•ã‚Œã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>Codacyãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ0%</li>
<li>ãƒ†ã‚¹ãƒˆã¯æˆåŠŸã—ã¦ã„ã‚‹ãŒã€ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒè¨ˆæ¸¬ã•ã‚Œã¦ã„ãªã„</li>
</ul>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ã‚«ãƒãƒ¬ãƒƒã‚¸åé›†ã®è¨­å®šèª¤ã‚Š</li>
<li>ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‚ç…§èª¤ã‚Š</li>
<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®è¨­å®šèª¤ã‚Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ã‚«ãƒãƒ¬ãƒƒã‚¸åé›†ã®è¨­å®šã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’æ˜ç¤ºçš„ã«æŒ‡å®š
dotnet test wt.sln \
  --collect:&quot;XPlat Code Coverage&quot; \
  --results-directory ./coverage
</code></pre>
</li>
<li><p><strong>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">find ./coverage -name &quot;coverage.cobertura.xml&quot;
</code></pre>
</li>
<li><p><strong>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ç¢ºèª</strong> (runsettings):</p>
<pre><code class="lang-xml">&lt;!-- coverletArgs.runsettings --&gt;
&lt;RunSettings&gt;
  &lt;DataCollectionRunSettings&gt;
    &lt;DataCollectors&gt;
      &lt;DataCollector friendlyName=&quot;XPlat Code Coverage&quot;&gt;
        &lt;Configuration&gt;
          &lt;Exclude&gt;[*.Tests]*,[*]*.Program&lt;/Exclude&gt;
          &lt;Include&gt;[wt.cli]*&lt;/Include&gt;
        &lt;/Configuration&gt;
      &lt;/DataCollector&gt;
    &lt;/DataCollectors&gt;
  &lt;/DataCollectionRunSettings&gt;
&lt;/RunSettings&gt;
</code></pre>
</li>
</ol>
<hr>
<h2 id="sbomç”Ÿæˆã®å•é¡Œ">SBOMç”Ÿæˆã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-sbomç”ŸæˆãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: SBOMç”ŸæˆãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: Failed to generate SBOM
Syft error: unable to analyze packages
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹èª¤ã‚Š</li>
<li>ä¾å­˜é–¢ä¿‚ã®è§£æ±ºå¤±æ•—</li>
<li>Syft/Anchorãƒ„ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³èª¤ã‚Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>SBOMç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ‰‹å‹•å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash"># Syftã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§SBOMç”Ÿæˆ
syft packages dir:./wt.cli -o cyclonedx-json &gt; sbom-test.json
</code></pre>
</li>
<li><p><strong>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/release.yml
- name: Generate SBOM
  uses: anchore/sbom-action@61119d458adab75f756bc0b9e4bde25725f86a7a
  with:
    path: ./wt.cli  # æ­£ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹ã‹ç¢ºèª
    format: cyclonedx-json
</code></pre>
</li>
<li><p><strong>ä¾å­˜é–¢ä¿‚ã‚’äº‹å‰ã«å¾©å…ƒ</strong>:</p>
<pre><code class="lang-yaml"># ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§restoreã‚’è¿½åŠ 
- name: Restore dependencies
  run: dotnet restore wt.sln

- name: Generate SBOM
  uses: anchore/sbom-action@...
</code></pre>
</li>
<li><p><strong>Anchorã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># æœ€æ–°ã®å®‰å®šç‰ˆã‚’ä½¿ç”¨
uses: anchore/sbom-action@61119d458adab75f756bc0b9e4bde25725f86a7a  # v0.17.2
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-sbomã«ä¾å­˜é–¢ä¿‚ãŒå«ã¾ã‚Œã¦ã„ãªã„">å•é¡Œ: SBOMã«ä¾å­˜é–¢ä¿‚ãŒå«ã¾ã‚Œã¦ã„ãªã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>SBOM JSONãƒ•ã‚¡ã‚¤ãƒ«ã¯ç”Ÿæˆã•ã‚Œã‚‹ãŒã€<code>.components</code>ãŒç©º</li>
</ul>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (<code>.csproj</code>) ã«ä¾å­˜é–¢ä¿‚ãŒå«ã¾ã‚Œã¦ã„ãªã„</li>
<li>ãƒ“ãƒ«ãƒ‰å‰ã«SBOMç”Ÿæˆã—ã¦ã„ã‚‹</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">cat wt.cli/wt.cli.csproj | grep PackageReference
</code></pre>
</li>
<li><p><strong>SBOMç”Ÿæˆå‰ã«ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-yaml">- name: Build solution
  run: dotnet build wt.sln --configuration Release

- name: Generate SBOM
  uses: anchore/sbom-action@...
</code></pre>
</li>
<li><p><strong>SBOMã®å†…å®¹ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">jq '.components | length' sbom.json  # ä¾å­˜é–¢ä¿‚ã®æ•°
jq '.components[].name' sbom.json  # ä¾å­˜é–¢ä¿‚ã®åå‰ä¸€è¦§
</code></pre>
</li>
</ol>
<hr>
<h2 id="ãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã®å•é¡Œ">ãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-gpgç½²åã®ç”ŸæˆãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: GPGç½²åã®ç”ŸæˆãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: gpg: signing failed: No secret key
Error: gpg: signing failed: Inappropriate ioctl for device
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>GPGç§˜å¯†éµãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„</li>
<li>GPGãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã®èª¤ã‚Š</li>
<li>GPGã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¨­å®šå•é¡Œ</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>GitHub Secretsã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh secret list | grep GPG
# æœŸå¾…ã•ã‚Œã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ:
# - GPG_PRIVATE_KEY
# - GPG_PASSPHRASE
</code></pre>
</li>
<li><p><strong>GPGç§˜å¯†éµã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># ASCII-armoredå½¢å¼ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
cat gpg-private-key.asc | head -5
# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# -----BEGIN PGP PRIVATE KEY BLOCK-----
</code></pre>
</li>
<li><p><strong>GPGã‚­ãƒ¼ã‚’å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</strong>:</p>
<pre><code class="lang-bash"># ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆ
echo &quot;$GPG_PRIVATE_KEY&quot; | gpg --batch --import

# ã‚­ãƒ¼ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‹ç¢ºèª
gpg --list-secret-keys
</code></pre>
</li>
<li><p><strong>ç½²åã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ‰‹å‹•å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash"># ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½²å
export GPG_PRIVATE_KEY=&quot;&lt;your-key&gt;&quot;
export GPG_PASSPHRASE=&quot;&lt;your-passphrase&gt;&quot;
.github/scripts/sign-artifacts.sh
</code></pre>
</li>
<li><p><strong>GPGã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/release.yml
- name: Sign artifacts
  run: |
    gpg --batch --yes --passphrase &quot;$GPG_PASSPHRASE&quot; \
      --pinentry-mode loopback \  # CIç’°å¢ƒã§å¿…è¦
      --armor --detach-sign file.txt
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ç½²åæ¤œè¨¼ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: ç½²åæ¤œè¨¼ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">gpg: BAD signature from &quot;Release Bot &lt;release@example.com&gt;&quot;
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ç½²åã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒæ”¹å¤‰ã•ã‚Œã¦ã„ã‚‹</li>
<li>é–“é•ã£ãŸå…¬é–‹éµã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹</li>
<li>ç½²åãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã—ã¦ã„ã‚‹</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>å…¬é–‹éµã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># å…¬é–‹éµã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
curl -fsSL https://raw.githubusercontent.com/kuju63/wt/main/docs/GPG_PUBLIC_KEY.asc | gpg --import

# ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸéµã‚’ç¢ºèª
gpg --list-keys
</code></pre>
</li>
<li><p><strong>ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´åˆæ€§ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash"># ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ç¢ºèª
sha256sum wt-v1.0.0-sbom.json
sha256sum -c SHA256SUMS --ignore-missing
</code></pre>
</li>
<li><p><strong>ç½²åãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</strong>:</p>
<pre><code class="lang-bash"># ç ´æã—ã¦ã„ãªã„ã‹ç¢ºèª
gh release download v1.0.0 --pattern &quot;*.asc&quot;
</code></pre>
</li>
<li><p><strong>ç½²åã‚’å†æ¤œè¨¼</strong>:</p>
<pre><code class="lang-bash">gpg --verify wt-v1.0.0-sbom.json.asc wt-v1.0.0-sbom.json
</code></pre>
</li>
</ol>
<hr>
<h2 id="æ€§èƒ½å•é¡Œã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ">æ€§èƒ½å•é¡Œã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</h2>
<h3 id="å•é¡Œ-ãƒªãƒªãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒ30åˆ†ä»¥å†…ã«å®Œäº†ã—ãªã„">å•é¡Œ: ãƒªãƒªãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒ30åˆ†ä»¥å†…ã«å®Œäº†ã—ãªã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: The operation was canceled.
##[error]Workflow canceled by GitHub Actions (timeout-minutes: 25)
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒé•·ã™ãã‚‹</li>
<li>å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ (Codacy, GitHub API) ã®é…å»¶</li>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’ç‰¹å®š</strong>:</p>
<pre><code class="lang-bash"># å„ã‚¹ãƒ†ãƒƒãƒ—ã®å®Ÿè¡Œæ™‚é–“ã‚’ç¢ºèª
gh run view &lt;run-id&gt; --log | grep &quot;##\[group\]&quot; | grep -oE &quot;[0-9]+m[0-9]+s&quot;
</code></pre>
</li>
<li><p><strong>ãƒ“ãƒ«ãƒ‰ã‚’æœ€é©åŒ–</strong>:</p>
<ul>
<li><p>ä¸¦åˆ—ãƒ“ãƒ«ãƒ‰ã‚’æ´»ç”¨:</p>
<pre><code class="lang-yaml">strategy:
  max-parallel: 4  # å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ä¸¦åˆ—ãƒ“ãƒ«ãƒ‰
</code></pre>
</li>
<li><p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹åŒ–:</p>
<pre><code class="lang-yaml">- name: Cache NuGet packages
  uses: actions/cache@v4
  with:
    path: ~/.nuget/packages
    key: ${{ runner.os }}-nuget-${{ hashFiles('**/*.csproj') }}
</code></pre>
</li>
</ul>
</li>
<li><p><strong>å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®š</strong>:</p>
<pre><code class="lang-yaml">- name: Upload coverage to Codacy
  timeout-minutes: 5  # Codacyã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«5åˆ†ä»¥ä¸Šã‹ã‹ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
  continue-on-error: true
</code></pre>
</li>
<li><p><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·</strong> (ä¸€æ™‚çš„):</p>
<pre><code class="lang-yaml">create-release:
  timeout-minutes: 30  # 25åˆ† â†’ 30åˆ†ã«å»¶é•· (SLAä¸Šé™)
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ãƒ“ãƒ«ãƒ‰ãŒé…ã„">å•é¡Œ: ãƒ“ãƒ«ãƒ‰ãŒé…ã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>å˜ä¸€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ“ãƒ«ãƒ‰ã«10åˆ†ä»¥ä¸Šã‹ã‹ã‚‹</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ä¸è¦ãªãƒ“ãƒ«ãƒ‰æ‰‹é †ã‚’å‰Šé™¤</strong>:</p>
<pre><code class="lang-yaml"># ä¾‹: Releaseãƒ“ãƒ«ãƒ‰ã§ãƒ‡ãƒãƒƒã‚°ã‚·ãƒ³ãƒœãƒ«ã‚’ç„¡åŠ¹åŒ–
- name: Build
  run: dotnet publish -c Release /p:DebugType=None
</code></pre>
</li>
<li><p><strong>ä¾å­˜é–¢ä¿‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥</strong>:</p>
<pre><code class="lang-yaml">- name: Cache dependencies
  uses: actions/cache@v4
  with:
    path: ~/.nuget/packages
    key: nuget-${{ hashFiles('**/*.csproj') }}
</code></pre>
</li>
<li><p><strong>ãƒ“ãƒ«ãƒ‰æ§‹æˆã‚’æœ€é©åŒ–</strong>:</p>
<pre><code class="lang-xml">&lt;!-- wt.cli.csproj --&gt;
&lt;PropertyGroup&gt;
  &lt;PublishTrimmed&gt;true&lt;/PublishTrimmed&gt;  &lt;!-- ãƒˆãƒªãƒŸãƒ³ã‚°ã§é«˜é€ŸåŒ– --&gt;
  &lt;PublishReadyToRun&gt;true&lt;/PublishReadyToRun&gt;  &lt;!-- AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ« --&gt;
&lt;/PropertyGroup&gt;
</code></pre>
</li>
</ol>
<hr>
<h2 id="github-actions-ã®å•é¡Œ">GitHub Actions ã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„">å•é¡Œ: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>mainã«ãƒãƒ¼ã‚¸ã—ã¦ã‚‚ãƒªãƒªãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„</li>
</ul>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒˆãƒªã‚¬ãƒ¼è¨­å®šèª¤ã‚Š</li>
<li>ãƒ–ãƒ©ãƒ³ãƒåã®ä¸ä¸€è‡´</li>
<li>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒˆãƒªã‚¬ãƒ¼è¨­å®šã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/release.yml
on:
  push:
    branches:
      - main  # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã§ãƒˆãƒªã‚¬ãƒ¼
</code></pre>
</li>
<li><p><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ã‚’æ¤œè¨¼</strong>:</p>
<pre><code class="lang-bash"># YAMLã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
yamllint .github/workflows/release.yml
</code></pre>
</li>
<li><p><strong>GitHub Actionsãƒ­ã‚°ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh run list --workflow=release.yml --limit 5
</code></pre>
</li>
<li><p><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ‰‹å‹•å®Ÿè¡Œ</strong>:</p>
<pre><code class="lang-bash">gh workflow run release.yml
</code></pre>
</li>
</ol>
<hr>
<h3 id="å•é¡Œ-ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹">å•é¡Œ: ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<pre><code class="lang-text">Error: Unable to find artifact binary-linux-x64
</code></pre>
<p><strong>åŸå› </strong>:</p>
<ul>
<li>ãƒ“ãƒ«ãƒ‰ã‚¸ãƒ§ãƒ–ãŒå¤±æ•—ã—ã¦ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œãªã‹ã£ãŸ</li>
<li>ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆåã®ä¸ä¸€è‡´</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>ãƒ“ãƒ«ãƒ‰ã‚¸ãƒ§ãƒ–ã®çŠ¶æ…‹ã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-bash">gh run view &lt;run-id&gt; --log | grep -A 10 &quot;Build.*linux-x64&quot;
</code></pre>
</li>
<li><p><strong>ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆåã‚’ç¢ºèª</strong>:</p>
<pre><code class="lang-yaml"># build.yml
- name: Upload build artifact
  uses: actions/upload-artifact@v4
  with:
    name: binary-${{ matrix.platform }}-${{ matrix.arch }}

# release.yml
- name: Download build artifacts
  uses: actions/download-artifact@v4
  with:
    path: artifacts/
</code></pre>
</li>
<li><p><strong>ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’æ‰‹å‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</strong>:</p>
<pre><code class="lang-bash">gh run download &lt;run-id&gt; --name binary-linux-x64
</code></pre>
</li>
</ol>
<hr>
<h2 id="ãã®ä»–ã®å•é¡Œ">ãã®ä»–ã®å•é¡Œ</h2>
<h3 id="å•é¡Œ-ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤ã„">å•é¡Œ: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤ã„</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ‰‹é †ãŒå®Ÿéš›ã®å‹•ä½œã¨ä¸€è‡´ã—ãªã„</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ul>
<li><p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¦PRã‚’ä½œæˆ:</p>
<pre><code class="lang-bash">git checkout -b docs/update-troubleshooting
# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä¿®æ­£
git add docs/ specs/
git commit -m &quot;docs: update troubleshooting guide&quot;
git push origin docs/update-troubleshooting
gh pr create --title &quot;docs: update troubleshooting guide&quot;
</code></pre>
</li>
</ul>
<hr>
<h3 id="å•é¡Œ-ä¸æ˜ãªã‚¨ãƒ©ãƒ¼">å•é¡Œ: ä¸æ˜ãªã‚¨ãƒ©ãƒ¼</h3>
<p><strong>ç—‡çŠ¶</strong>:</p>
<ul>
<li>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒä¸æ˜ç¢º</li>
<li>ãƒ­ã‚°ã«æœ‰ç”¨ãªæƒ…å ±ãŒãªã„</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ³•</strong>:</p>
<ol>
<li><p><strong>è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–</strong>:</p>
<pre><code class="lang-yaml"># .github/workflows/*.yml
- name: Run command
  run: |
    set -x  # Bashãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
    &lt;your-command&gt; --verbosity detailed
</code></pre>
</li>
<li><p><strong>GitHub Actionsãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–</strong>:</p>
<pre><code class="lang-bash"># ãƒªãƒã‚¸ãƒˆãƒªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«è¨­å®š
gh secret set ACTIONS_STEP_DEBUG --body &quot;true&quot;
gh secret set ACTIONS_RUNNER_DEBUG --body &quot;true&quot;
</code></pre>
</li>
<li><p><strong>Issue ã‚’ä½œæˆ</strong>:</p>
<pre><code class="lang-bash">gh issue create \
  --title &quot;Release pipeline failure: &lt;error-message&gt;&quot; \
  --body &quot;Steps to reproduce: ...&quot;
</code></pre>
</li>
</ol>
<hr>
<h2 id="-é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ">ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</h2>
<ul>
<li><a href="quickstart.html">quickstart.md</a>: ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰</li>
<li><a href="testing-guide.html">testing-guide.md</a>: ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰</li>
<li><a href="spec.html">spec.md</a>: ä»•æ§˜æ›¸</li>
<li><a href="../../docs/adr/0002-sbom-format-and-signature-choice.html">ADR 0002</a>: SBOMå½¢å¼ã¨ãƒ‡ã‚¸ã‚¿ãƒ«ç½²å</li>
<li><a href="../../docs/adr/0003-semantic-versioning-conventional-commits.html">ADR 0003</a>: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°</li>
<li><a href="../../docs/adr/0004-release-workflow-timeout-sla.html">ADR 0004</a>: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨SLA</li>
<li><a href="../../docs/adr/0005-quality-gates-testing-requirements.html">ADR 0005</a>: å“è³ªã‚²ãƒ¼ãƒˆ</li>
</ul>
<hr>
<h2 id="ã‚µãƒãƒ¼ãƒˆ">ã‚µãƒãƒ¼ãƒˆ</h2>
<p>å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆ:</p>
<ol>
<li><strong>GitHub Issueã‚’ä½œæˆ</strong>: <a href="https://github.com/kuju63/wt/issues">kuju63/wt/issues</a></li>
<li><strong>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ­ã‚°ã‚’æ·»ä»˜</strong>: <code>gh run view &lt;run-id&gt; --log &gt; workflow.log</code></li>
<li><strong>å†ç¾æ‰‹é †ã‚’è¨˜è¼‰</strong>: å•é¡Œã‚’å†ç¾ã™ã‚‹æœ€å°é™ã®æ‰‹é †</li>
</ol>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/kuju63/wt/blob/main/specs/003-automated-release-pipeline/troubleshooting.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
